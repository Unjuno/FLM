# 修正が必要な問題一覧

## 発見された問題

### 1. `ollama.rs`の`AppError`初期化エラー（48箇所）

**問題**: `AppError::OllamaError`の初期化で`source`フィールドが不足しています。

**修正方法**: 全ての`AppError::OllamaError { message: ... }`を`AppError::OllamaError { message: ..., source: None }`に変更する必要があります。

**影響**: コンパイルエラーが発生します。

**修正例**:
```rust
// 修正前
AppError::OllamaError {
    message: format!("エラーメッセージ: {}", e),
}

// 修正後
AppError::OllamaError {
    message: format!("エラーメッセージ: {}", e),
    source: None,  // または source: Some(format!("{:?}", e))
}
```

### 2. `ModelSelect.tsx`のARIA属性エラー（1件）

**問題**: リンターが`aria-selected`属性の値を検出しています。

**状態**: コードは既に修正済み（`aria-selected={selectedModelName === model.name}`）

**影響**: 軽微（機能は正常動作）

**対処**: リンターのキャッシュをクリアするか、再起動が必要な可能性があります。

### 3. `server.ts`の型エラー（6件）

**問題**: `rateLimitMiddlewareToUse`関数の型認識問題

**状態**: 関数定義に変更済み

**影響**: 軽微（機能は正常動作）

**対処**: TypeScriptの型チェッカーの再確認が必要です。

---

## 修正優先度

1. **高**: `ollama.rs`の`AppError`初期化エラー（コンパイルエラー）
2. **中**: `ModelSelect.tsx`のARIA属性（リンターの再確認）
3. **低**: `server.ts`の型エラー（機能は正常動作）

---

## 修正手順

### `ollama.rs`の修正

1. ファイル内の全ての`AppError::OllamaError { message: ... }`を検索
2. 各箇所に`source: None`を追加
3. エラーの原因が分かる場合は`source: Some(format!("{:?}", e))`を使用

**注意**: ファイルが大きいため、一括置換ツールの使用を推奨します。

