/* Selectコンポーネントのスタイル */

/* コンポーネント固有の変数（グローバル変数が存在しない場合のフォールバック付き） */
:root {
  --form-select-label-color: var(--color-text-primary, #333);
  --form-select-bg: var(--color-bg-primary, #fff);
  --form-select-text: var(--color-text-primary, #333);
  --form-select-border: var(--color-border-light, #e0e0e0);
  --form-select-focus-border: var(--color-primary, #667eea);
  --form-select-focus-shadow: rgba(102, 126, 234, 0.1);
  --form-select-error-border: var(--color-error, #f56565);
  --form-select-error-shadow: rgba(245, 101, 101, 0.1);
  --form-select-success-border: var(--color-success, #48bb78);
  --form-select-success-shadow: rgba(72, 187, 120, 0.1);
  --form-select-disabled-bg: var(--color-bg-tertiary, #f5f5f5);
  --form-select-disabled-text: var(--color-text-tertiary, #999);
  --form-select-readonly-bg: var(--color-bg-secondary, #f9f9f9);
  --form-select-arrow-color: var(--color-text-secondary, #666);
  --form-select-error-text: var(--color-error, #f56565);
  --form-select-help-text: var(--color-text-secondary, #666);
  --form-select-required-color: var(--color-error, #f56565);
  --form-select-border-radius: var(--radius-lg, 8px);
  --form-select-transition: var(--transition-base, 200ms ease);
}

.form-select-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm, 0.5rem);
  contain: layout;
}

.form-select-wrapper-full-width {
  width: 100%;
}

.form-select-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--form-select-label-color);
  display: flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  contain: layout style;
}

.form-select-required {
  color: var(--form-select-required-color);
  font-weight: bold;
}

.form-select-container {
  position: relative;
  display: flex;
  align-items: center;
  contain: layout;
}

.form-select {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1rem;
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--form-select-text);
  background: var(--form-select-bg);
  border: 1px solid var(--form-select-border);
  border-radius: var(--form-select-border-radius);
  transition: border-color var(--form-select-transition), box-shadow var(--form-select-transition);
  outline: none;
  appearance: none;
  cursor: pointer;
  contain: layout style;
}

.form-select:focus-visible {
  border-color: var(--form-select-focus-border);
  box-shadow: 0 0 0 3px var(--form-select-focus-shadow);
}

.form-select-error {
  border-color: var(--form-select-error-border);
}

.form-select-error:focus-visible {
  border-color: var(--form-select-error-border);
  box-shadow: 0 0 0 3px var(--form-select-error-shadow);
}

.form-select-success {
  border-color: var(--form-select-success-border);
}

.form-select-success:focus-visible {
  border-color: var(--form-select-success-border);
  box-shadow: 0 0 0 3px var(--form-select-success-shadow);
}

.form-select-disabled {
  background: var(--form-select-disabled-bg);
  color: var(--form-select-disabled-text);
  cursor: not-allowed;
  pointer-events: none;
}

.form-select-readonly {
  background: var(--form-select-readonly-bg);
  cursor: default;
}

.form-select-arrow {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: var(--form-select-arrow-color);
  font-size: 0.75rem;
  contain: layout style;
}

.form-select-small {
  padding: 0.5rem 2rem 0.5rem 0.75rem;
  font-size: 0.875rem;
}

.form-select-large {
  padding: 1rem 3rem 1rem 1.25rem;
  font-size: 1rem;
}

.form-select-error-message {
  font-size: 0.875rem;
  color: var(--form-select-error-text);
  margin-top: var(--spacing-xs, 0.25rem);
  contain: layout style;
}

.form-select-help-text {
  font-size: 0.875rem;
  color: var(--form-select-help-text);
  margin-top: var(--spacing-xs, 0.25rem);
  contain: layout style;
}

/* ダークモード対応 */
/* システム設定（prefers-color-scheme: dark）とグローバルテーマ（[data-theme="dark"]）の両方に対応 */
@media (prefers-color-scheme: dark) {
  :root {
    --form-select-label-color: var(--color-text-primary, #e0e0e0);
    --form-select-bg: var(--color-bg-secondary, #2d3748);
    --form-select-text: var(--color-text-primary, #e0e0e0);
    --form-select-border: var(--color-border-light, #4a5568);
    --form-select-disabled-bg: var(--color-bg-primary, #1a202c);
    --form-select-disabled-text: var(--color-text-tertiary, #718096);
    --form-select-readonly-bg: var(--color-bg-secondary, #2d3748);
    --form-select-arrow-color: var(--color-text-secondary, #a0aec0);
    --form-select-help-text: var(--color-text-secondary, #a0aec0);
  }
}

/* グローバルテーマによるダークモード（ユーザーが明示的に選択した場合） */
[data-theme="dark"] {
  --form-select-label-color: var(--color-text-primary, #e0e0e0);
  --form-select-bg: var(--color-bg-secondary, #2d3748);
  --form-select-text: var(--color-text-primary, #e0e0e0);
  --form-select-border: var(--color-border-light, #4a5568);
  --form-select-disabled-bg: var(--color-bg-primary, #1a202c);
  --form-select-disabled-text: var(--color-text-tertiary, #718096);
  --form-select-readonly-bg: var(--color-bg-secondary, #2d3748);
  --form-select-arrow-color: var(--color-text-secondary, #a0aec0);
  --form-select-help-text: var(--color-text-secondary, #a0aec0);
}

